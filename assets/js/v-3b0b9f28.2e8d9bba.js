"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7445],{7714:(e,s,t)=>{t.r(s),t.d(s,{data:()=>a});const a=JSON.parse('{"key":"v-3b0b9f28","path":"/web/VuePress.html","title":"VuePress","lang":"zh-CN","frontmatter":{"article":false,"title":"VuePress","order":1,"summary":"VuePress 是一个以 Markdown 为中心的静态网站生成器。你可以使用 Markdown 来书写内容（如文档、博客等），然后 VuePress 会帮助你生成一个静态网站来展示它们。 如果你已经有了 docsify/Hexo 等 Markdown 架构网站，简单就能转为 VuePress。不过，VuePress 网站需要依赖包环境，生成的静态文件在本","head":[["meta",{"property":"og:url","content":"https://newzone.top/web/VuePress.html"}],["meta",{"property":"og:site_name","content":"LearnData-开源学习笔记"}],["meta",{"property":"og:title","content":"VuePress"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-07-26T16:25:00.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-07-26T16:25:00.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"插件","slug":"插件","children":[]},{"level":2,"title":"初始配置","slug":"初始配置","children":[]},{"level":2,"title":"打包工具","slug":"打包工具","children":[]},{"level":2,"title":"自定义主题","slug":"自定义主题","children":[]}],"git":{"createdTime":1658852700000,"updatedTime":1658852700000,"contributors":[{"name":"rockbenben","email":"qingwhat@gmail.com","commits":1}]},"readingTime":{"minutes":4.47,"words":1340},"filePathRelative":"web/VuePress.md","localizedDate":"2022年7月26日"}')},4588:(e,s,t)=>{t.r(s),t.d(s,{default:()=>he});var a=t(8e3);const l={href:"https://v2.vuepress.vuejs.org/zh/guide/getting-started.html",target:"_blank",rel:"noopener noreferrer"},i=(0,a.Uk)("VuePress"),n=(0,a.Uk)(" 是一个以 Markdown 为中心的静态网站生成器。你可以使用 Markdown 来书写内容（如文档、博客等），然后 VuePress 会帮助你生成一个静态网站来展示它们。"),c=(0,a._)("p",null,"如果你已经有了 docsify/Hexo 等 Markdown 架构网站，简单就能转为 VuePress。不过，VuePress 网站需要依赖包环境，生成的静态文件在本地运行会缺少组件，只推荐在服务器或其他云服务上运行。",-1),r=(0,a.Uk)("主题使用的是 "),o={href:"https://vuepress-theme-hope.github.io/v2/zh/guide/",target:"_blank",rel:"noopener noreferrer"},d=(0,a.Uk)("vuepress-theme-hope"),p=(0,a.Uk)("，其他主题和插件查看 "),k={href:"https://github.com/vuepress/awesome-vuepress/blob/main/v2.md",target:"_blank",rel:"noopener noreferrer"},m=(0,a.Uk)("Awesome VuePress V2"),h=(0,a.Uk)("。"),b=(0,a._)("h2",{id:"插件",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#插件","aria-hidden":"true"},"#"),(0,a.Uk)(" 插件")],-1),u={href:"https://v2.vuepress.vuejs.org/zh/reference/plugin/docsearch.html",target:"_blank",rel:"noopener noreferrer"},v=(0,a.Uk)("docsearch"),f=(0,a.Uk)("：将 Algolia DocSearch 集成到 VuePress 中，为你的文档网站提供搜索功能。开源技术向博客可以申请官方支持，商业化内容需要使用自己的爬虫。"),g={href:"https://vuepress-theme-hope.github.io/v2/zh/guide/interface/icon.html#iconfont-%E7%B2%BE%E9%80%89%E5%9B%BE%E6%A0%87",target:"_blank",rel:"noopener noreferrer"},_=(0,a.Uk)("Iconfont 精选图标"),x={href:"https://www.npmjs.com/package/vuepress-plugin-helper-live2d",target:"_blank",rel:"noopener noreferrer"},U=(0,a.Uk)("看板娘"),y=(0,a._)("h2",{id:"初始配置",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#初始配置","aria-hidden":"true"},"#"),(0,a.Uk)(" 初始配置")],-1),E=(0,a.Uk)("环境配置：安装 npm、yarn、pnpm，方法查看 "),w=(0,a.Uk)("Linux 环境部署教程"),V=(0,a.Uk)("。"),P=(0,a._)("li",null,[(0,a.Uk)("新建文件夹，然后在该路径下运行命令 "),(0,a._)("code",null,"pnpm create vuepress-theme-hope@next docs"),(0,a.Uk)("。vuepress-theme-hope 主题的样例文件会存储在该路径下。")],-1),W=(0,a._)("li",null,[(0,a.Uk)("执行命令 "),(0,a._)("code",null,"pnpm docs:dev"),(0,a.Uk)(" 启动样例网站。")],-1),A=(0,a._)("code",null,"docs\\.vuepress",-1),B=(0,a.Uk)(" 路径下的 config.ts，navbar.ts，sidebar.ts，theme.ts 可以修改页面属性，设置方法参考 "),z={href:"https://github.com/vuepress-theme-hope/vuepress-theme-hope/tree/main/docs/theme/src/.vuepress",target:"_blank",rel:"noopener noreferrer"},D=(0,a.Uk)("官方案例"),M=(0,a.Uk)("。 "),j=(0,a._)("ul",null,[(0,a._)("li",null,"config.ts：环境依赖包"),(0,a._)("li",null,"sidebar.ts：侧边栏，集合所有文档的目录"),(0,a._)("li",null,"navbar.ts：导航栏，放最常用的文档链接"),(0,a._)("li",null,"theme.ts：对主题和插件进行设置")],-1),C=(0,a._)("h2",{id:"打包工具",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#打包工具","aria-hidden":"true"},"#"),(0,a.Uk)(" 打包工具")],-1),T={href:"https://cli.vuejs.org/config/#vue-config-js",target:"_blank",rel:"noopener noreferrer"},L=(0,a.Uk)("vue.config.js 配置"),N=(0,a._)("p",null,"VuePress v2 默认使用 Vite 打包。Vite 每次生成的静态文件名都不同，每次打包都要替换整个网站的静态文件，这点对服务器的自动部署太不利，每次部署需要 10 分钟。",-1),R=(0,a.Uk)("因此，我把打包工具更换为 "),S={href:"https://v2.vuepress.vuejs.org/zh/guide/bundler.html",target:"_blank",rel:"noopener noreferrer"},Z=(0,a.Uk)("Webpack"),q=(0,a.Uk)("。更换后，虽然静态名依然每次都不同，但文件数量少了许多，更新部署时间 5 分钟。"),F=(0,a.uE)('<ol><li><p>修改 config.ts 的导入设置，将 <code>import { defineUserConfig } from &quot;vuepress&quot;;</code> 替换为 <code>import { defineUserConfig } from &#39;@vuepress/cli&#39;;</code>。</p></li><li><p>Webpack 环境依赖包安装，并运行服务。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#组合命令，打包使用 Webpack</span>\n<span class="token function">pnpm</span> <span class="token function">add</span> vuepress@next vuepress-theme-hope@next <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> remove vuepress <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> <span class="token function">add</span> vuepress-webpack@next sass-loader <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> i <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> up\n\n<span class="token comment">#运行在本地服务器</span>\n<span class="token function">yarn</span> docs:dev\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>组合命令也能<strong>解决报错</strong>，升级相关依赖包。下方有相关命令的分步解释。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#确保你正在使用最新的 vuepress 和 vuepress-theme-hope 版本</span>\n<span class="token function">pnpm</span> <span class="token function">add</span> vuepress@next vuepress-theme-hope@next\n\n<span class="token comment">#更换打包工具，Webpack 需手动下载 sass-loader</span>\n<span class="token function">pnpm</span> remove vuepress\n<span class="token function">pnpm</span> <span class="token function">add</span> -D vuepress-webpack@next sass-loader\n\n<span class="token comment">#常用插件：google-analytics，docsearch</span>\n<span class="token function">pnpm</span> <span class="token function">add</span> @vuepress/plugin-google-analytics@next @vuepress/plugin-docsearch@next\n\n<span class="token comment">#升级当前目录的依赖以确保你的项目只包含单个版本的相关包</span>\n<span class="token function">pnpm</span> i <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> up\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="自定义主题" tabindex="-1"><a class="header-anchor" href="#自定义主题" aria-hidden="true">#</a> 自定义主题</h2>',4),G={class:"task-list-container"},H=(0,a.uE)('<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> Algolia DocSearch 申请中，等结果通知</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-1"><s>网页更新时，有时会打不开链接，需要使用缓存。</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-2" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-2"><s>VuePress 博客页面：frontmatter 中添加 order 参数让最新的文章往上排，无法按文件名倒序排列</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 全局路径需要给子目录添加 README.md，没那么多内容填，暂时放弃。</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-4" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-4"> 独立设置页面标题。未成功，所有页面都会加入默认标题。</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-5" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-5"> 侧边栏显示客服图片。icon 位置直接放链接也没用。</label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-6" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-6"> 指定页面子标题不被目录页识别。但页面中取消 toc 的话，网页位置会出现偏移。</label></li>',7),I={class:"task-list-item"},O=(0,a._)("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-7",checked:"checked",disabled:"disabled"},null,-1),J={class:"task-list-item-label",for:"task-item-7"},K={href:"https://vuepress-theme-hope.github.io/v2/zh/cookbook/advanced/replace.html#%E6%8F%92%E6%A7%BD%E5%88%A9%E7%94%A8",target:"_blank",rel:"noopener noreferrer"},Q=(0,a.Uk)("修改导航栏 brand 链接"),X=(0,a.Uk)("，需用本地文件替代 "),Y={href:"https://github.com/vuepress-theme-hope/vuepress-theme-hope/blob/main/packages/theme/src/client/module/navbar/components/NavbarBrand.ts",target:"_blank",rel:"noopener noreferrer"},$=(0,a.Uk)("主题默认设置"),ee=(0,a.Uk)("。设置的 ts 未生效，暂时放弃。"),se=(0,a.uE)('<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-8" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-8"><s>子域名中部署 blog 和 note，分别使用不同路径。这方案可以与 WordPress 共存，但未了避免后续出错，还是取消了。</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-9" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-9"><s>Giscus 评论区设置</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-10" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-10"><s>导航栏添加 repo 位置</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-11" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-11"><s>页面统计，插件只支持 Google、百度，后用图片标签方式植入统计。备用方法：将统计代码直接放在侧边栏。</s></label></li>',4),te={class:"task-list-item"},ae=(0,a._)("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-12",checked:"checked",disabled:"disabled"},null,-1),le={class:"task-list-item-label",for:"task-item-12"},ie=(0,a.Uk)("定制页面标签：config.ts 中添加全局 "),ne={href:"https://github.com/vuepress-theme-hope/vuepress-theme-hope/blob/main/docs/theme/src/.vuepress/config.ts",target:"_blank",rel:"noopener noreferrer"},ce=(0,a.Uk)("head 标签"),re=(0,a.Uk)("，或在页面中添加 "),oe={href:"https://vuepress-theme-hope.github.io/v2/seo/zh/guide.html#%E7%9B%B4%E6%8E%A5%E6%B7%BB%E5%8A%A0-head-%E6%A0%87%E7%AD%BE",target:"_blank",rel:"noopener noreferrer"},de=(0,a.Uk)("独立 head 标签"),pe=(0,a.Uk)("，支持图片统计代码。"),ke=(0,a.uE)('<li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-13" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-13"><s>将 docs 里的 README.md 转移到主目录中，保持 github 项目页的同步。</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-14" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-14"><s>打开页面链接，侧边栏焦点能不能也移动过去。侧边栏标题需要能在首屏出现，才能激活焦点。</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-15" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-15"><s>默认主题颜色为白天，虽然不能切换，但发稿用白色就性。</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-16" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-16"><s>设置导航栏自动隐藏</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-17" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-17"><s>隐藏编辑时间和贡献者</s></label></li><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-18" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-18"><s>用 md 控制图片是，图片不能显示。这可能是因为主题默认的 lazy 加载，改用七牛云的图片属性控制尺寸。</s></label></li>',6),me={},he=(0,t(1935).Z)(me,[["render",function(e,s){const t=(0,a.up)("ExternalLinkIcon"),me=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("p",null,[(0,a._)("a",l,[i,(0,a.Wm)(t)]),n]),c,(0,a._)("p",null,[r,(0,a._)("a",o,[d,(0,a.Wm)(t)]),p,(0,a._)("a",k,[m,(0,a.Wm)(t)]),h]),b,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",u,[v,(0,a.Wm)(t)]),f]),(0,a._)("li",null,[(0,a._)("a",g,[_,(0,a.Wm)(t)])]),(0,a._)("li",null,[(0,a._)("a",x,[U,(0,a.Wm)(t)])])]),y,(0,a._)("ol",null,[(0,a._)("li",null,[E,(0,a.Wm)(me,{to:"/deploy/VPS.html#%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2"},{default:(0,a.w5)((()=>[w])),_:1}),V]),P,W,(0,a._)("li",null,[A,B,(0,a._)("a",z,[D,(0,a.Wm)(t)]),M,j])]),C,(0,a._)("ul",null,[(0,a._)("li",null,[(0,a._)("a",T,[L,(0,a.Wm)(t)])])]),N,(0,a._)("p",null,[R,(0,a._)("a",S,[Z,(0,a.Wm)(t)]),q]),F,(0,a._)("ul",G,[H,(0,a._)("li",I,[O,(0,a._)("label",J,[(0,a._)("a",K,[Q,(0,a.Wm)(t)]),X,(0,a._)("a",Y,[$,(0,a.Wm)(t)]),ee])]),se,(0,a._)("li",te,[ae,(0,a._)("label",le,[(0,a._)("s",null,[ie,(0,a._)("a",ne,[ce,(0,a.Wm)(t)]),re,(0,a._)("a",oe,[de,(0,a.Wm)(t)]),pe])])]),ke])])}]])},1935:(e,s)=>{s.Z=(e,s)=>{const t=e.__vccOpts||e;for(const[e,a]of s)t[e]=a;return t}}}]);