"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7436],{7078:(n,e,s)=>{s.r(e),s.d(e,{data:()=>a});const a=JSON.parse('{"key":"v-39dc98a2","path":"/deploy/VPS.html","title":"VPS/网站修改","lang":"zh-CN","frontmatter":{"article":false,"title":"VPS/网站修改","icon":null,"order":2,"summary":"环境部署 部署应用前，必须要为服务器配置好包管理工具，以便节省部署时间。 主流的前端包管理工具有 npm、yarn、pnpm、以及国内的镜像 cnpm、tyarn 等，这些包管理器都是基于 nodejs。 包管理安装 npm：Node.js 集成了 npm 安装。; yarn：npm i yarn -g，全局安装。; pnpm：npm install pnp","head":[["meta",{"property":"og:url","content":"https://newzone.top/deploy/VPS.html"}],["meta",{"property":"og:site_name","content":"LearnData-开源学习笔记"}],["meta",{"property":"og:title","content":"VPS/网站修改"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2022-07-27T04:02:22.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:modified_time","content":"2022-07-27T04:02:22.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"环境部署","slug":"环境部署","children":[{"level":3,"title":"包管理安装","slug":"包管理安装","children":[]},{"level":3,"title":"源管理","slug":"源管理","children":[]},{"level":3,"title":"部署包","slug":"部署包","children":[]}]},{"level":2,"title":"网站重定向","slug":"网站重定向","children":[]},{"level":2,"title":"网站字体","slug":"网站字体","children":[]},{"level":2,"title":"米拓","slug":"米拓","children":[]}],"git":{"createdTime":1658894542000,"updatedTime":1658894542000,"contributors":[{"name":"rockbenben","email":"qingwhat@gmail.com","commits":1}]},"readingTime":{"minutes":1.98,"words":594},"filePathRelative":"deploy/VPS.md","localizedDate":"2022年7月27日"}')},7599:(n,e,s)=>{s.r(e),s.d(e,{default:()=>Z});var a=s(8e3);const l=(0,a._)("h2",{id:"环境部署",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#环境部署","aria-hidden":"true"},"#"),(0,a.Uk)(" 环境部署")],-1),t=(0,a._)("p",null,"部署应用前，必须要为服务器配置好包管理工具，以便节省部署时间。",-1),i=(0,a._)("p",null,"主流的前端包管理工具有 npm、yarn、pnpm、以及国内的镜像 cnpm、tyarn 等，这些包管理器都是基于 nodejs。",-1),p=(0,a._)("h3",{id:"包管理安装",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#包管理安装","aria-hidden":"true"},"#"),(0,a.Uk)(" 包管理安装")],-1),o=(0,a.Uk)("npm："),r={href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"},c=(0,a.Uk)("Node.js"),d=(0,a.Uk)(" 集成了 npm 安装。"),u=(0,a._)("li",null,[(0,a.Uk)("yarn："),(0,a._)("code",null,"npm i yarn -g"),(0,a.Uk)("，全局安装。")],-1),m=(0,a._)("li",null,[(0,a.Uk)("pnpm："),(0,a._)("code",null,"npm install pnpm -g"),(0,a.Uk)("，全局安装。")],-1),v=(0,a.uE)('<h3 id="源管理" tabindex="-1"><a class="header-anchor" href="#源管理" aria-hidden="true">#</a> 源管理</h3><p>源管理的命令类似，把 npm 换为 yarn 或 pnpm 就能更改对应包管理工具的设置。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查看源</span>\n<span class="token function">npm</span> config get registry\n<span class="token comment">#更换国内源</span>\n<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmmirror.com/\n<span class="token comment">#换回默认源</span>\n<span class="token function">npm</span> config <span class="token builtin class-name">set</span> registry https://registry.npmjs.org/\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="部署包" tabindex="-1"><a class="header-anchor" href="#部署包" aria-hidden="true">#</a> 部署包</h3><p>npm、yarn 和 pnpm 的包安装及管理命令。</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#全局安装</span>\n<span class="token function">npm</span> i 包 -g\n<span class="token function">yarn</span> global <span class="token function">add</span> 包\n<span class="token function">pnpm</span> <span class="token function">add</span> 包 -g\n\n<span class="token comment">#移除全局包</span>\n<span class="token function">pnpm</span> remove 包 --global\n<span class="token comment">#更新全局包</span>\n<span class="token function">pnpm</span> upgrade 包 --global\n\n<span class="token comment">#升级当前目录的依赖以确保你的项目只包含单个版本的相关包</span>\n<span class="token comment">#本方法能解决大部分的部署报错</span>\n<span class="token function">npm</span> i <span class="token operator">&amp;&amp;</span> <span class="token function">npm</span> update\n<span class="token function">yarn</span> <span class="token operator">&amp;&amp;</span> <span class="token function">yarn</span> upgrade\n<span class="token function">pnpm</span> i <span class="token operator">&amp;&amp;</span> <span class="token function">pnpm</span> up\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',6),k={id:"网站重定向",tabindex:"-1"},h=(0,a._)("a",{class:"header-anchor",href:"#网站重定向","aria-hidden":"true"},"#",-1),b=(0,a.Uk)(),g={href:"https://www.jb51.net/article/146957.htm",target:"_blank",rel:"noopener noreferrer"},f=(0,a.Uk)("网站重定向"),_=(0,a.uE)('<p>更改配置后，需要 nginx 重载配置后生效</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#隐性链接跳转</span>\nlocation /xx1 <span class="token punctuation">{</span>proxy_pass <span class="token operator">&lt;</span>https://xxx.com/<span class="token punctuation">;</span><span class="token operator">&gt;</span><span class="token punctuation">}</span>\n\n<span class="token comment">#404 前，将旧文章链接格式转为新的，使用绝对路径</span>\nlocation ^~ /p<span class="token punctuation">{</span>\n    rewrite ^/p/<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$  https://newzone.top/_posts/<span class="token variable">$1</span>.html<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment"># huginn 设置中 location 添加 301 定向，兼容老路径链接</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$request_uri</span> <span class="token operator">=</span> <span class="token string">&quot;/users/1/web_requests/21/guoke.xml&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>\nrewrite ^ http://xxx.com/users/1/web_requests/19/guoke.xml permanent<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">#只匹配主页，将主页跳转为其中一个子页面</span>\nlocation <span class="token operator">=</span> / <span class="token punctuation">{</span>\n rewrite https://xxx.com/ permanent<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="网站字体" tabindex="-1"><a class="header-anchor" href="#网站字体" aria-hidden="true">#</a> 网站字体</h2><p>网站为了提高访问速度并保持设计的一致性，通常会选默认字体。这导致网站设计难以突出重点。针对这点，我通常会修改网站的导航栏字体，将其从默认字体改为 <code>思源黑体-粗</code>。</p>',4),y=(0,a.Uk)("进入 "),x={href:"https://www.iconfont.cn/webfont",target:"_blank",rel:"noopener noreferrer"},w=(0,a.Uk)("iconfont‑webfont"),U=(0,a.Uk)("，输入导航栏内所有文字，并设置所需字体。"),j=(0,a._)("li",null,"点击「生成字体」后，在选中字体的下方，点击「本地下载」。",-1),P=(0,a._)("li",null,"将字体包上传到服务器，修改新字体的位置参数。",-1),S=(0,a._)("li",null,[(0,a.Uk)("在导航栏的 "),(0,a._)("code",null,"class"),(0,a.Uk)(" 属性中添加 "),(0,a._)("code",null,"web-font"),(0,a.Uk)("。")],-1),q=(0,a._)("h2",{id:"米拓",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#米拓","aria-hidden":"true"},"#"),(0,a.Uk)(" 米拓")],-1),V=(0,a.Uk)("后台忘记密码，使用 "),z={href:"https://www.metinfo.cn/download/54.html",target:"_blank",rel:"noopener noreferrer"},N=(0,a.Uk)("Metinfo 米拓重置工具"),T=(0,a.Uk)("。"),C=(0,a._)("li",null,"metinfo 新版静态页会删除 index.html，后续都改用 index.php。",-1),W={},Z=(0,s(1935).Z)(W,[["render",function(n,e){const s=(0,a.up)("ExternalLinkIcon");return(0,a.wg)(),(0,a.iD)("div",null,[l,t,i,p,(0,a._)("ul",null,[(0,a._)("li",null,[o,(0,a._)("a",r,[c,(0,a.Wm)(s)]),d]),u,m]),v,(0,a._)("h2",k,[h,b,(0,a._)("a",g,[f,(0,a.Wm)(s)])]),_,(0,a._)("ol",null,[(0,a._)("li",null,[y,(0,a._)("a",x,[w,(0,a.Wm)(s)]),U]),j,P,S]),q,(0,a._)("ul",null,[(0,a._)("li",null,[V,(0,a._)("a",z,[N,(0,a.Wm)(s)]),T]),C])])}]])},1935:(n,e)=>{e.Z=(n,e)=>{const s=n.__vccOpts||n;for(const[n,a]of e)s[n]=a;return s}}}]);